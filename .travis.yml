language: rust
cache: cargo
env:
  global:
  - BITCOIN_RPC_URL="http://localhost:18443"
  - BITCOIN_RPC_USERNAME="bitcoin"
  - BITCOIN_RPC_PASSWORD="54pLR_f7-G6is32LP-7nbhzZSbJs_2zSATtZV_r05yg="
rust: nightly-2018-05-05
install: true
before_script:
- "./setup.sh"
- ".docker/bitcoind-regtest"
script:
- "./check-fmt.sh"
- cargo build --verbose
- cargo test --verbose --all --exclude bitcoin_rpc
- cargo test --verbose --all --package bitcoin_rpc --jobs 1
notifications:
  email: false
  slack:
    rooms:
      secure: aG/ulGV5UvDMhnJJ4hgvZMoEL5g30o5CfFGunMn6OU91y04ytWqMbhv8awtrNdUID74lkK8fMVIGmYE3N1lTicxaji8g/D+Rhuakv9r+6AphSM+OY7qjohotSRvlNWOae1OTV2fJGe78XgajI32PZlCrPaxJKZtflL3AMjbJHVkfeATHdj1MSfFY88nO0xeN/EqVTo1ZSKYw9rQyXpLMd4RAPtISoQ4zwLVE/mtE7K9yZxbZ5rjxxkOFmqppH2K3rxPFDhFGbMYH1Gjnd1c+UUtWY1lz72FaAsX0Z+NyePlO0bkWx7qtYPBIw2jUcO49xQHbhudsN4ZhKxnGUqIz9gefjYrhu4Clx/MzM7pL9ArQO1+0AdTEY9BLhquN5LwBu2b0hXLwojFNkqP+cdwjgspSZeAN5I4eRJQSOOMyFUkZzEGU+w8Wc7dW77/43trZeZxDLfObvWbZXQaNlcq7UHkitPgRLTv/MrBX47I9nIlxopTKER02csU1LvaEt+zOgpFst+T4XUkKrIT932beH27hP2KBpH2yJ42vh4z1N7qSH4143VtaUch08jHLBz3CDQSmyVVj19dX1bWck9fJoItB/Ys2TvvnrBM9BXlEPF4g7qbU8bs9zNrIPhn11KMkX0ySrnIOPxA/xjiw5dEk5dW+jDY6DfsDXTgvvEIuXCw=
    on_success: always
    on_failure: always